<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="966" height="494" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[participant Alice
participant Server
participant Bob

Bob->Bob: Generate prekey message
Bob->Bob: Generate ephemeral our_ecdh
Bob->Bob: Generate ephemeral our_dh

Bob->Server: Authenticate using DAKEZ
Bob->Server: Publish prekey message
Server->Server: Validate Bob's user profile

Alice->Server: Retrieve Bob's prekey message]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C45.8,17.6 49.2,22.4 69.0,20.0C67.4,36.5 70.6,41.8 69.0,60.0C37.8,62.4 54.8,57.6 10.0,60.0C11.6,50.4 8.4,34.8 10.0,20.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="20" y="47" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Alice</tspan></text></g><g class="actor"><path d="M10,434C24.2,431.6 52.2,436.4 69.0,434.0C67.4,440.4 70.6,443.6 69.0,474.0C29.8,476.4 41.3,471.6 10.0,474.0C11.6,441.3 8.4,443.6 10.0,434.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="20" y="461" style="font-size: 16px; font-family: danielbd;"><tspan x="20">Alice</tspan></text></g><path d="M39.5,60.0C24.5,284.9 54.5,296.1 39.5,434.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><g class="actor"><path d="M284.5,20C328.1,16.9 343.1,23.1 362.5,20.0C364.1,39.9 360.9,39.6 362.5,60.0C303.2,56.9 297.0,63.1 284.5,60.0C282.9,28.4 286.1,42.1 284.5,20.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="295.5" y="45" style="font-size: 16px; font-family: danielbd;"><tspan x="294.5">Server</tspan></text></g><g class="actor"><path d="M284.5,434C332.9,430.9 343.8,437.1 362.5,434.0C364.1,460.5 360.9,456.3 362.5,474.0C313.7,477.1 316.2,470.9 284.5,474.0C282.9,467.6 286.1,440.4 284.5,434.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="295.5" y="459" style="font-size: 16px; font-family: danielbd;"><tspan x="294.5">Server</tspan></text></g><path d="M323.5,60.0C308.5,344.2 338.5,374.2 323.5,434.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><g class="actor"><path d="M567.5,20C592.1,17.8 610.1,22.2 623.5,20.0C625.1,26.4 621.9,43.9 623.5,60.0C607.5,57.8 580.9,62.2 567.5,60.0C565.9,50.4 569.1,53.6 567.5,20.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="577.5" y="46" style="font-size: 16px; font-family: danielbd;"><tspan x="577.5">Bob</tspan></text></g><g class="actor"><path d="M567.5,434C605.9,436.2 597.0,431.8 623.5,434.0C625.1,443.6 621.9,464.4 623.5,474.0C614.5,471.8 609.8,476.2 567.5,474.0C569.1,441.6 565.9,464.9 567.5,434.0" style="stroke-width: 2;" stroke="#000000" fill="#ffffff"></path><text x="577.5" y="460" style="font-size: 16px; font-family: danielbd;"><tspan x="577.5">Bob</tspan></text></g><path d="M595.5,60.0C580.5,344.2 610.5,155.7 595.5,434.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><g class="signal"><text x="620.5" y="100" style="font-size: 16px; font-family: danielbd;"><tspan x="620.5">Generate prekey message</tspan></text><path d="M595.5,80.0C610.7,80.8 600.3,79.2 615.5,80.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,80.0C616.9,92.3 614.1,100.4 615.5,115.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,115.0C608.6,114.2 610.7,115.8 595.5,115.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="620.5" y="150" style="font-size: 16px; font-family: danielbd;"><tspan x="620.5">Generate ephemeral our_ecdh</tspan></text><path d="M595.5,130.0C602.0,129.2 606.4,130.8 615.5,130.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,130.0C616.9,145.3 614.1,149.7 615.5,165.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,165.0C610.7,164.2 608.8,165.8 595.5,165.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="620.5" y="200" style="font-size: 16px; font-family: danielbd;"><tspan x="620.5">Generate ephemeral our_dh</tspan></text><path d="M595.5,180.0C600.3,179.2 603.3,180.8 615.5,180.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,180.0C614.1,209.4 616.9,187.3 615.5,215.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M615.5,215.0C612.3,215.8 610.7,214.2 595.5,215.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="341" y="236" style="font-size: 16px; font-family: danielbd;"><tspan x="341">Authenticate using DAKEZ</tspan></text><path d="M595.5,262.0C465.1,251.1 367.0,272.9 323.5,262.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="360" y="288" style="font-size: 16px; font-family: danielbd;"><tspan x="360">Publish prekey message</tspan></text><path d="M595.5,314.0C450.1,324.9 537.7,303.1 323.5,314.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="348.5" y="354" style="font-size: 16px; font-family: danielbd;"><tspan x="348.5">Validate Bob's user profile</tspan></text><path d="M323.5,334.0C336.0,333.2 338.2,334.8 343.5,334.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M343.5,334.0C344.9,353.8 342.1,361.6 343.5,369.0" style="stroke-width: 2;" stroke="#000000" fill="none"></path><path d="M343.5,369.0C333.5,368.2 335.2,369.8 323.5,369.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g><g class="signal"><text x="49.5" y="389" style="font-size: 16px; font-family: danielbd;"><tspan x="49.5">Retrieve Bob's prekey message</tspan></text><path d="M39.5,414.0C255.3,402.6 278.1,425.4 323.5,414.0" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></path></g></svg>